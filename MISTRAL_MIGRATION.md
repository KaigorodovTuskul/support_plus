# –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Mistral API

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –Ω–∞ **Mistral API** –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏.

### –ë—ã–ª–æ (2 API):
- ‚ùå Hyperbolic API (Llama-3.3-70B) - –¥–ª—è —á–∞—Ç-–±–æ—Ç–∞ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚ùå Mistral API - —Ç–æ–ª—å–∫–æ –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞
- ‚ùå –î–≤–∞ –∫–ª—é—á–∞ –≤ .env
- ‚ùå –ü—Ä–æ–±–ª–µ–º—ã —Å rate limits –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º Hyperbolic API

### –°—Ç–∞–ª–æ (1 API):
- ‚úÖ **Mistral API** - –¥–ª—è –≤—Å–µ–≥–æ
- ‚úÖ –û–¥–∏–Ω –∫–ª—é—á –≤ .env
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω—ã–µ rate limits
- ‚úÖ –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Python SDK

---

## –ß—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Mistral API

### 1. –ß–∞—Ç-–±–æ—Ç
**–ú–æ–¥–µ–ª—å**: `mistral-large-latest`
- –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–π AI
- –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –ª—å–≥–æ—Ç–∞—Ö –¥–ª—è –∏–Ω–≤–∞–ª–∏–¥–æ–≤
- –ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î

**–§–∞–π–ª**: `backend/chatbot/views.py`

```python
chat_response = mistral_client.chat.complete(
    model="mistral-large-latest",
    messages=messages,
    temperature=0.7,
    max_tokens=1024
)
```

### 2. –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
**–ú–æ–¥–µ–ª—å**: `mistral-small-latest`
- –ë—ã—Å—Ç—Ä–∞—è –∏ –¥–µ—à–µ–≤–∞—è –º–æ–¥–µ–ª—å
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è CSV
- 11 –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- –ó–∞–¥–µ—Ä–∂–∫–∞ 2 —Å–µ–∫ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ (–∏–∑–±–µ–∂–∞–Ω–∏–µ rate limits)

**–§–∞–π–ª**: `preprocess_categories.py`

```python
response = mistral_client.chat.complete(
    model="mistral-small-latest",
    messages=[{'role': 'user', 'content': prompt}],
    temperature=0.3,
    max_tokens=50
)
```

### 3. –ì–æ–ª–æ—Å–æ–≤–æ–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç
**Speech-to-Text (STT)**:
```python
response = mistral_client.audio.transcriptions.create(
    model="mistral-large-latest",
    file=audio_data
)
```

**Text-to-Speech (TTS)**:
```python
response = mistral_client.audio.speech.create(
    model="mistral-large-latest",
    input=text,
    voice="alloy"
)
```

**–§–∞–π–ª**: `backend/chatbot/views.py`

---

## Rate Limits

### Mistral Free Tier
- ‚úÖ –ë–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã —á–µ–º Hyperbolic
- ‚úÖ –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ –ü—Ä–æ–∑—Ä–∞—á–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `mistral-small-latest` –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–¥–∞—á (–∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è)
2. –î–æ–±–∞–≤–ª—è–π—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ (2 —Å–µ–∫ –≤ —Å–∫—Ä–∏–ø—Ç–µ –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∏)
3. –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ - —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω

---

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –º–∏–≥—Ä–∞—Ü–∏–∏

### üéØ –ü—Ä–æ—Å—Ç–æ—Ç–∞
- **1 API –∫–ª—é—á** –≤–º–µ—Å—Ç–æ 2
- **1 –ø—Ä–æ–≤–∞–π–¥–µ—Ä** –≤–º–µ—Å—Ç–æ 2
- –ú–µ–Ω—å—à–µ —Ç–æ—á–µ–∫ –æ—Ç–∫–∞–∑–∞

### üí∞ –≠–∫–æ–Ω–æ–º–∏—á–Ω–æ—Å—Ç—å
- `mistral-small` –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏ (–¥–µ—à–µ–≤–ª–µ –∏ –±—ã—Å—Ç—Ä–µ–µ)
- `mistral-large` —Ç–æ–ª—å–∫–æ –¥–ª—è —á–∞—Ç–∞ (–≥–¥–µ –Ω—É–∂–Ω–æ –∫–∞—á–µ—Å—Ç–≤–æ)

### üöÄ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Python SDK
- –°—Ç–∞–±–∏–ª—å–Ω—ã–µ rate limits
- –•–æ—Ä–æ—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### üì¶ –õ–µ–≥–∫–æ–≤–µ—Å–Ω–æ—Å—Ç—å
- –û–¥–∏–Ω –ø–∞–∫–µ—Ç `mistralai`
- –ë–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è VPS

---

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

1. **backend/chatbot/views.py**
   - –£–±—Ä–∞–Ω Hyperbolic API
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Mistral –¥–ª—è —á–∞—Ç–∞

2. **preprocess_categories.py**
   - –£–±—Ä–∞–Ω Hyperbolic API
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `mistral-small-latest`
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏

3. **.env**
   - –£–¥–∞–ª–µ–Ω `OLLAMA_API_KEY`
   - –û—Å—Ç–∞–≤–ª–µ–Ω —Ç–æ–ª—å–∫–æ `MISTRAL_API_KEY`

4. **requirements.txt**
   - –û—Å—Ç–∞–ª—Å—è —Ç–æ–ª—å–∫–æ `mistralai`
   - –£–±—Ä–∞–Ω—ã –≤—Å–µ —Ç—è–∂–µ–ª—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

---

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–∞
1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: https://console.mistral.ai/
2. –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª—é—á–∞: https://console.mistral.ai/api-keys/
3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ `.env`:
   ```env
   MISTRAL_API_KEY=your_key_here
   ```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ß–∞—Ç-–±–æ—Ç**:
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
cd backend
python manage.py runserver

# –û—Ç–∫—Ä—ã—Ç—å http://localhost:8000
# –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É
# –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ Dashboard
# –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É —á–∞—Ç–∞ –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É
```

**–ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è**:
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫—É
python preprocess_categories.py

# –ó–∞–π–º–µ—Ç ~2 –º–∏–Ω—É—Ç—ã –¥–ª—è 52 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (2 —Å–µ–∫ –∑–∞–¥–µ—Ä–∂–∫–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç)
```

---

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API:
- Dashboard: https://console.mistral.ai/usage
- Limits: https://docs.mistral.ai/platform/limits/

---

## –ì–æ—Ç–æ–≤–æ! üéâ

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –Ω–∞ Mistral API –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!
